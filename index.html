<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HairHaus Pro | Tha DollHouse</title>

<style>
body{
margin:0;
font-family:system-ui;
background:#000;
color:#fff;
}

.container{
max-width:1200px;
margin:auto;
padding:20px;
}

.grid{
display:grid;
gap:24px;
}

@media(min-width:900px){
.grid{grid-template-columns:1fr 1fr;}
}

.card{
background:#0f0f0f;
padding:28px;
border-radius:18px;
border:1px solid rgba(255,255,255,.08);
}

.gold{ color:#C9A24D; }

button{
background:#C9A24D;
border:none;
padding:14px 20px;
border-radius:12px;
font-weight:700;
cursor:pointer;
}

input,textarea{
width:100%;
padding:14px;
margin-top:12px;
border-radius:12px;
border:1px solid #333;
background:#000;
color:white;
}

.stat{
font-size:28px;
color:#C9A24D;
font-weight:bold;
}

.hidden{ display:none; }
</style>
</head>

<body>

<div class="container">

<!-- LANDING -->
<div id="landing" class="grid">

<div class="card">
<h1 class="gold" style="font-size:44px;">HairHaus Pro</h1>

<h3>Luxury Salon Operating System</h3>

<p style="color:#aaa;">
Bookings â€¢ Client Memory â€¢ Analytics â€¢ White Label â€¢ Marketing Tools
</p>

<button onclick="showLogin()" style="margin-top:20px;">
Enter Dashboard
</button>
</div>

<div class="card">
<img src="assets/img/hero-stylists.png" style="width:100%">
</div>

</div>

<!-- LOGIN -->
<div id="loginScreen" class="hidden">
<div class="card" style="max-width:500px;margin:auto;">
<h2>Login</h2>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="login()" style="width:100%;margin-top:14px;">
Login
</button>

<p id="authMsg" style="color:#ff6b6b;"></p>
</div>
</div>

<!-- APP -->
<div id="app" class="hidden">

<h2>Dashboard</h2>
<p id="userEmail"></p>

<div class="grid">

<!-- BOOKKEEPING -->
<div class="card">
<h3>Bookkeeping</h3>

<input id="revInput" placeholder="Revenue">
<button onclick="addRevenue()">Add Revenue</button>

<input id="expInput" placeholder="Expense">
<button onclick="addExpense()">Add Expense</button>

<hr>

Revenue <div class="stat" id="revTotal">$0</div>
Expenses <div class="stat" id="expTotal">$0</div>
Profit <div class="stat" id="profitTotal">$0</div>
</div>

<!-- SOCIAL POSTS -->
<div class="card">
<h3>Social Post Drafts</h3>
<input type="file">
<textarea id="postCaption" placeholder="Caption"></textarea>
<button onclick="savePost()">Save Draft</button>
<div id="postList"></div>
</div>

<!-- NOTES -->
<div class="card">
<h3>Business Notes</h3>
<textarea id="notes"></textarea>
<button onclick="saveNotes()">Save Notes</button>
</div>

<!-- CHECKLIST -->
<div class="card">
<h3>Checklist</h3>
<input id="taskInput">
<button onclick="addTask()">Add Task</button>
<div id="taskList"></div>
</div>

</div>

<button onclick="logout()">Logout</button>
</div>

</div>

<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

/***************************************************
 SUPABASE CONFIG â€” ðŸ”´ PASTE YOUR REAL KEYS HERE
****************************************************/

const SUPABASE_URL = "PASTE_YOUR_SUPABASE_URL_HERE";
const SUPABASE_ANON_KEY = "PASTE_YOUR_SUPABASE_ANON_KEY_HERE";

/***************************************************/

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

/* ================= APP STATE ================= */
let user;
let revenue=[];
let expenses=[];
let posts=[];
let tasks=[];

/* ================= AUTH ================= */

window.showLogin = ()=>{
landing.classList.add("hidden");
loginScreen.classList.remove("hidden");
}

window.login = async ()=>{
authMsg.innerText="Signing in...";

const { data,error } = await supabase.auth.signInWithPassword({
email:email.value,
password:password.value
});

if(error){
authMsg.innerText=error.message;
return;
}

user=data.user;
loginScreen.classList.add("hidden");
app.classList.remove("hidden");
userEmail.innerText=user.email;
}

window.logout = async ()=>{
await supabase.auth.signOut();
location.reload();
}

/* ================= BOOKKEEPING ================= */

window.addRevenue=()=>{
revenue.push(Number(revInput.value||0));
updateFinance();
}

window.addExpense=()=>{
expenses.push(Number(expInput.value||0));
updateFinance();
}

function updateFinance(){
let r=revenue.reduce((a,b)=>a+b,0);
let e=expenses.reduce((a,b)=>a+b,0);

revTotal.innerText="$"+r;
expTotal.innerText="$"+e;
profitTotal.innerText="$"+(r-e);
}

/* ================= SOCIAL ================= */

window.savePost=()=>{
posts.push(postCaption.value);
postList.innerHTML=posts.map(p=>"<div>"+p+"</div>").join("");
}

/* ================= NOTES ================= */

window.saveNotes=()=>{
localStorage.setItem("notes",notes.value);
}

/* ================= TASKS ================= */

window.addTask=()=>{
tasks.push(taskInput.value);
taskList.innerHTML=tasks.map(t=>"<div>âœ” "+t+"</div>").join("");
}
</script>

</body>
</html>
