<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HairHaus Pro</title>

<style>
body{
margin:0;
font-family:system-ui;
background:#000;
color:#fff;
}

.container{
max-width:1200px;
margin:auto;
padding:24px;
}

.card{
background:#0b0b0b;
border:1px solid #222;
border-radius:16px;
padding:20px;
margin-bottom:20px;
}

button{
background:#C9A24D;
border:0;
padding:12px 20px;
border-radius:10px;
font-weight:700;
cursor:pointer;
}

input,textarea,select{
width:100%;
padding:12px;
margin-top:8px;
margin-bottom:8px;
background:#111;
border:1px solid #333;
color:white;
border-radius:10px;
}
</style>
</head>

<body>

<div id="landing" class="container">
<h1 style="color:#C9A24D">HairHaus Pro</h1>
<p>Luxury Salon Operating System</p>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="login()">Login</button>
</div>


<div id="dashboard" class="container" style="display:none">

<div class="card">
<h2>Salon Header</h2>
<input id="salonMission" placeholder="Mission Statement">
<input id="salonLogo" placeholder="Logo URL">
</div>

<div class="card">
<h2>ğŸ’° Bookkeeping</h2>
<input id="revAmount" placeholder="Revenue Amount">
<button onclick="addRevenue()">Add Revenue</button>

<input id="expAmount" placeholder="Expense Amount">
<button onclick="addExpense()">Add Expense</button>

<h3 id="profitDisplay">$0 Profit</h3>
</div>

<div class="card">
<h2>ğŸ“Š Profit Analytics</h2>
<div id="analytics"></div>
</div>

<div class="card">
<h2>ğŸ’‡ Services</h2>
<input id="serviceName" placeholder="Service Name">
<input id="servicePrice" placeholder="Price">
<input id="serviceImage" placeholder="Image URL">
<button onclick="addService()">Add Service</button>
<div id="servicesList"></div>
</div>

<div class="card">
<h2>ğŸ“… Booking</h2>
<select id="bookingService"></select>
<input id="bookingClient" placeholder="Client Name">
<button onclick="addBooking()">Book</button>
</div>

<div class="card">
<h2>ğŸ“± Social Media Hub</h2>
<input type="file" id="postImage">
<textarea id="postCaption" placeholder="Caption"></textarea>
<button onclick="savePost()">Save Draft</button>
</div>

<div class="card">
<h2>ğŸ§  Notes + Tasks</h2>
<textarea id="globalNotes"></textarea>
<button onclick="saveNotes()">Save Notes</button>
</div>

<div class="card">
<h2>ğŸ‘©â€ğŸ¨ Stylists</h2>
<input id="stylistName" placeholder="Stylist Name">
<input id="stylistPhoto" placeholder="Photo URL">
<button onclick="addStylist()">Add Stylist</button>
<div id="stylistList"></div>
</div>

</div>


<script type="module">

import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

/* ================= SUPABASE CONFIG ================= */

const SUPABASE_URL = "https://fjjedjoakplopglfkjsn.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqamVkam9ha3Bsb3BnbGZranNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MTQzNjAsImV4cCI6MjA4NTI5MDM2MH0.svOkXz6Y3ZSLd75q11N83Zaj6ClUV9ZVHvSkI9JKzYc";

const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

/* ================= LOGIN ================= */

async function login(){
const email = document.getElementById("email").value;
const password = document.getElementById("password").value;

const {error} = await supabase.auth.signInWithPassword({email,password});

if(!error){
document.getElementById("landing").style.display="none";
document.getElementById("dashboard").style.display="block";
}
}

/* ================= BOOKKEEPING ================= */

let revenue = 0;
let expenses = 0;

function updateProfit(){
document.getElementById("profitDisplay").innerText =
"$"+(revenue-expenses)+" Profit";
}

window.addRevenue = ()=>{
revenue += Number(document.getElementById("revAmount").value);
updateProfit();
}

window.addExpense = ()=>{
expenses += Number(document.getElementById("expAmount").value);
updateProfit();
}

/* ================= SERVICES ================= */

let services=[];

window.addService=()=>{
const s={
name:serviceName.value,
price:servicePrice.value,
img:serviceImage.value
};
services.push(s);
renderServices();
}

function renderServices(){
servicesList.innerHTML="";
bookingService.innerHTML="";
services.forEach(s=>{
servicesList.innerHTML+=`<div>${s.name} $${s.price}</div>`;
bookingService.innerHTML+=`<option>${s.name}</option>`;
});
}

/* ================= BOOKINGS ================= */

window.addBooking=()=>{
alert("Booking Added (Connect to DB next)");
}

/* ================= SOCIAL ================= */

window.savePost=()=>{
alert("Draft Saved");
}

/* ================= NOTES ================= */

window.saveNotes=()=>{
alert("Notes Saved");
}

/* ================= STYLISTS ================= */

let stylists=[];

window.addStylist=()=>{
stylists.push({
name:stylistName.value,
photo:stylistPhoto.value
});
renderStylists();
}

function renderStylists(){
stylistList.innerHTML="";
stylists.forEach(s=>{
stylistList.innerHTML+=`<div>${s.name}</div>`;
});
}

</script>

</body>
</html>
